# ###############

อาคาร 1 ชั้น 22

BAACTW23


{ 
  "mqtt_type_id": "1",  
  "mqtt_name": "อาคาร 1 ชั้น 22", 
  "host": "192.168.1.59",  
  "port": "8086",  
  "username": "admin",  
  "password": "Na@0955@#@#", 
  "secret": "Na@0955##", 
  "expire_in": "365d", 
  "token": "BcKyMJK-AVist7GQkkb30Fm-LZZnAVeQrG4hXWetVtYow5Wal_dIYoRYFLAV1vqlQM0J7o_OXTP62P6ktYxB3Q==", 
  "org": "cmon_org", 
  "bucket": "BAACTW23", 
  "envavorment": "measurement", 
  "status": "1"
}

# ###############

    <svg id="fan1_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan1_<?php echo $a;?>_windmill_path" class="text-success"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>



  <svg id="fan2_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan2_<?php echo $a;?>_windmill_path" class="text-success"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>



  <svg id="fan1_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan1_<?php echo $a;?>_windmill_path" class="isFanOn ? 'windmill-spin' : ''" style="margin-left:6px;  fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>



                    <svg id="fan2_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan2_<?php echo $a;?>_windmill_path" class="isFanOn ? 'windmill-spin' : ''"
                            style="margin-left:6px;  fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>



class="isFanOn ? 'windmill-spin' : ''"  style="margin-left:6px;  fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);"




  <svg id="fan1_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan1_<?php echo $a;?>_windmill_path" class="isFanOn ? 'windmill-spin' : ''" style="margin-left:6px;  fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>



  <svg id="fan2_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan2_<?php echo $a;?>_windmill_path" class="isFanOn ? 'windmill-spin' : ''" style="margin-left:6px;  fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>




  const spinClass = isFanOn ? 'windmill-spin' : '';
                        const fillStyle =
                            "fill: color-mix(in srgb, transparent, var(--tblr-primary) 100%);";
                        return `<svg id="${svgId}"
                                            xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" style="vertical-align: middle;">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path class="${spinClass}" style="margin-left:6px; ${fillStyle}"
                                                d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                                        </svg>
                                        `;

  

  <div class="col-sm-4 col-lg-3">
    <div class="card">
        <div class="card-body pb-2">
            <!-- Header -->
            <div class="d-flex align-items-center mb-2">
                <div class="flex-grow-1">
                    <span class="fw-semibold" style="font-size:1rem;"><?php echo $mqtt_name; ?></span>

                </div>

                <div>
                    <div class="dropdown">
                        <a class="dropdown-toggle text-secondary small" href="#" data-bs-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">View</a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a class="dropdown-item active"
                                href="<?php echo base_url('dashboard/dashboard2').'?bucket='.$bucket; ?>">Main</a>
                            <a class="dropdown-item"
                                href="<?php echo base_url('settings/device').'?bucket='.$bucket.'&mqtt_id='.$mqtt_id ; ?>">Details</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Status Section -->
            <!-- Chart Area -->
            <div id="chart-temperature-<?php echo $a;?>" class="position-relative rounded-bottom chart-sm"></div>
            <div class="row text-center mb-2">
                <!-- FAN 1 -->
                <div class="col-6 mb-2 d-flex flex-column align-items-center">
                    <svg id="fan1_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan1_<?php echo $a;?>_windmill_path" class="text-success"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>
                    <span class="mt-1">FAN 1: <span id="fan1_status_<?php echo $a;?>"
                            class="fw-bold text-success">On</span></span>
                </div>
                <!-- FAN 2 -->
                <div class="col-6 mb-2 d-flex flex-column align-items-center">
                    <svg id="fan2_<?php echo $a;?>_windmill_icon" xmlns="http://www.w3.org/2000/svg" width="20"
                        height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle;">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path id="fan2_<?php echo $a;?>_windmill_path" class="text-success"
                            d="M12 2c3.292 0 6 2.435 6 5.5c0 1.337 -.515 2.554 -1.369 3.5h4.369a1 1 0 0 1 1 1c0 3.292 -2.435 6 -5.5 6c-1.336 0 -2.553 -.515 -3.5 -1.368v4.368a1 1 0 0 1 -1 1c-3.292 0 -6 -2.435 -6 -5.5c0 -1.336 .515 -2.553 1.368 -3.5h-4.368a1 1 0 0 1 -1 -1c0 -3.292 2.435 -6 5.5 -6c1.337 0 2.554 .515 3.5 1.369v-4.369a1 1 0 0 1 1 -1z" />
                    </svg>
                    <span class="mt-1">FAN 2: <span id="fan2_status_<?php echo $a;?>"
                            class="fw-bold text-success">On</span></span>
                </div>
                <!-- Alarm 1 -->
                <div class="col-6 d-flex flex-column align-items-center">
                    <span id="alarm1_dot_<?php echo $a;?>" class="status-indicator status-green mb-1">
                        <span class="status-indicator-circle"></span>
                    </span>
                    <span>Alarm 1: <span id="alarm1_status_<?php echo $a;?>"
                            class="fw-bold text-success">Normal</span></span>
                </div>
                <!-- Alarm 2 -->
                <div class="col-6 d-flex flex-column align-items-center">
                    <span id="alarm2_dot_<?php echo $a;?>" class="status-indicator status-green mb-1">
                        <span class="status-indicator-circle"></span>
                    </span>
                    <span>Alarm 2: <span id="alarm2_status_<?php echo $a;?>"
                            class="fw-bold text-success">Normal</span></span>
                </div>
            </div>
            <!-- Timestamp -->
            <!-- <div class="text-secondary text-end small mt-2">
                <span id="temperature_<?php echo $a;?>" class="fw-bold text-warning ms-2"
                    style="font-size:1.2rem;">--°C</span>
            </div> -->
            <div class="text-secondary text-end small mt-2">
                <span id="last-update-time">--:--:--</span> <span id="temperature_<?php echo $a;?>"
                    class="fw-bold text-warning ms-2" style="font-size:0.8rem;">--°C</span>
            </div>
        </div>



    </div>
</div>
